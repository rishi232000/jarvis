const startBtn=document.querySelector("#start"),stopBtn=document.querySelector("#stop");stopBtn.style.visibility="hidden";const speakBtn=document.querySelector("#speak"),time=document.querySelector("#time"),bat=document.querySelector("#bat"),net=document.querySelector("#net"),sound=document.querySelector("#sound"),msgs=document.querySelector(".messages");function createMsg(e,t){let o=document.createElement("p");o.innerText=t.toUpperCase(),o.setAttribute("class",e),msgs.appendChild(o)}let jarComs=[];function weather(e){const t=document.querySelector(".temp").querySelectorAll("*");let o=`http://api.openweathermap.org/data/2.5/weather?q=${e}&appid=48ddfe8c9cf29f95b7d0e54d6e171008`;const n=new XMLHttpRequest;n.open("GET",o,!0),n.onload=function(){if(200===this.status){let e=JSON.parse(this.responseText);t[0].textContent=`Location : ${e.name}`,t[1].textContent=`Country : ${e.sys.country}`,t[2].textContent=`Weather type : ${e.weather[0].main}`,t[3].textContent=`Weather description : ${e.weather[0].description}`,t[4].src=`http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`,t[5].textContent=`Original Temperature : ${ktc(e.main.temp)}`,t[6].textContent=`feels like ${ktc(e.main.feels_like)}`,t[7].textContent=`Min temperature ${ktc(e.main.temp_min)}`,t[8].textContent=`Max temperature ${ktc(e.main.temp_max)}`,weatherStatement=`sir the weather in ${e.name} is ${e.weather[0].description} and the temperature feels like ${ktc(e.main.feels_like)}`}else t[0].textContent="Weather Info Not Foound"},n.send()}function ktc(e){return(e-=273.15).toFixed(2)}jarComs.push("hi jarvis"),jarComs.push("what are your commands"),jarComs.push("close this- to close opened popups"),jarComs.push("change my information-to change your information"),jarComs.push("what is weather or temperature"),jarComs.push("show full weather report"),jarComs.push("are you there- to check jarvis is present or not"),jarComs.push("shut down - stop voice recognition"),jarComs.push("open google"),jarComs.push("search for 'your keywords' - to search anything on google "),jarComs.push("open whatsapp"),jarComs.push("open youtube"),jarComs.push("play 'your keywords' - to search on youtube"),jarComs.push("close this youtube tab - to close opened youtube"),jarComs.push("open firebase"),jarComs.push("open netlify"),jarComs.push("open twitter"),jarComs.push("open my twitter profile"),jarComs.push("open instagram"),jarComs.push("open my instagram profile"),jarComs.push("open github"),jarComs.push("open my github profile");let charge,chargeStatus,connectivity,date=new Date,hrs=date.getHours(),mins=date.getMinutes(),secs=date.getSeconds(),weatherStatement="";function autoJarvis(){setTimeout(()=>{recognition.start()},1e3)}chargeStatus="unplugged",window.onload=(()=>{function e(e){bat.textContent=`${100*e.level}%`,charge=100*e.level,!0===e.charging&&(bat.textContent=`${100*e.level}% Charging`,chargeStatus="plugged-in")}sound.play(),sound.addEventListener("ended",()=>{setTimeout(()=>{readOut("ready to go sir")},200)}),jarComs.forEach(e=>{document.querySelector(".commands").innerHTML+=`<p>#${e}</p><br>`}),time.textContent=`${hrs}:${mins}:${secs}`,setInterval(()=>{let e=new Date,t=e.getHours(),o=e.getMinutes(),n=e.getSeconds();time.textContent=`${t}:${o}:${n}`},1e3),navigator.getBattery().then(function(t){e(t),setInterval(()=>{e(t)},5e3)}),navigator.onLine?(net.innerHTML="Online",net.style.color="yellowgreen",connectivity="online"):(net.innerHTML="Offline",net.style.color="red",connectivity="offline"),setInterval(()=>{navigator.onLine?(net.style.color="yellowgreen",net.innerHTML="Online",connectivity="online"):(net.innerHTML="Offline",net.style.color="red",connectivity="offline")},6e3)}),null!==localStorage.getItem("jarvis_setup")&&weather(JSON.parse(localStorage.getItem("jarvis_setup")).location);const setup=document.querySelector(".jarvis_setup");function userInfo(){let e={name:setup.querySelector("#name").value,bio:setup.querySelector("#bio").value,location:setup.querySelector("#location").value,instagram:setup.querySelector("#instagram").value,twitter:setup.querySelector("#twitter").value,github:setup.querySelector("#github").value},t=[];setup.querySelectorAll("input").forEach(e=>{t.push(e.value)}),t.includes("")?readOut("Enter Your Full Information"):(localStorage.clear(),localStorage.setItem(".jarvis_setup",JSON.stringify(e)),setup.style.display="none",weather(JSON.parse(localStorage.getItem(".jarvis_setup")).location))}setup.style.display="none",null===localStorage.getItem(".jarvis_setup")&&(setup.style.display="block",setup.querySelector("button").addEventListener("click",userInfo));const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition,recognition=new SpeechRecognition;function readOut(e){const t=new SpeechSynthesisUtterance,o=speechSynthesis.getVoices();t.text=e,t.voice=o[36],t.volume=1,window.speechSynthesis.speak(t),console.log("speaking out"),createMsg("jmsg",e)}recognition.continuous=!0,recognition.onstart=function(){console.log("vr active")},recognition.onresult=function(e){let t=e.resultIndex,o=e.results[t][0].transcript;o=o.toLowerCase();let n=localStorage.getItem("jarvis_setup");if(createMsg("usermsg",o),o.includes("hi jarvis")&&readOut("hello sir"),o.includes("close all tabs")&&(readOut("okay sir closing all tabs"),windowsB.forEach(e=>{e.close()})),o.includes("open youtube")){readOut("opening youtube sir");let e=window.open("https://www.youtube.com/");windowsB.push(e)}if(o.includes("open google")){readOut("opening google sir");let e=window.open("https://www.google.com/");windowsB.push(e)}if(o.includes("what is weather")&&readOut(weatherStatement),o.includes("show full weather report")&&readOut(weatherStatement),o.includes("change my information")&&(readOut("okay sir taking you to main page"),setup.style.display="block",setup.querySelector("button").addEventListener("click",userInfo)),o.includes("close this")&&(readOut("closing the window"),document.querySelector(".commands").style.display="none",setup.style.display="none"),o.includes("what are your commands")&&(readOut("this are the commands that i can follow"),document.querySelector(".commands").style.display="block"),o.includes("tell me about yourself")&&(readOut("i am jarvis system"),readOut("rishikesh has made me"),readOut("i am capable of helping you in all things"),readOut("thankyou")),o.includes("who is panda")&&(readOut("you call marjorie as panda"),readOut("marjorie is your bestfriend"),readOut("she is your cute little flower"),readOut("she is your daily chatmate"),readOut("you are friends from past 4 years")),o.includes("how are you")&&readOut("i am fine sir what about you"),(o.includes("jevla ka")||o.includes("had your dinner")||o.includes("had your lunch")||o.includes("had your breakfast"))&&readOut("ho me jev lo ani too me sir"),o.includes("not yet")&&(readOut("can i get something for you"),readOut("i am a good cook i can boil water for you")),o.includes("yes i")&&readOut("good"),o.includes("i feel good")&&readOut("thats great sir glad to hear"),o.includes("feeling bore")&&readOut("lets talk about your love life"),o.includes("describe rishi")&&(readOut("rishikesh is good boy he is friendly with everyone"),readOut("he is loyal and honest boy"),readOut("and he is my good master"),readOut("he is small in height but his heart is very big"),readOut("haha"),readOut("part of joke but he is really good")),o.includes("smart")&&(readOut("thankyou sir"),getNews()),o.includes("top headlines")&&(readOut("this are todays headline sir"),getNews()),o.includes("what is date today")&&readOut(sayDate),o.includes("in my love life")&&(readOut("just kidding sir"),readOut("usually people like talk in this topic")),(o.includes("stupid")||o.includes("suck")||o.includes("lick")||o.includes("bastard")||o.includes("rubbish")||o.includes("bitch")||o.includes("motherfucker")||o.includes("son of bitch")||o.includes("pussy")||o.includes("dick"))&&readOut("Stop abusing me"),o.includes("news regarding")){let e=o,t=e.indexOf("regarding");(e=e.split("")).splice(0,t+9),e.shift(),e.pop(),readOut(`here are some news regarding ${e.join("")}`),getCatNews(e.join(""))}if(o.includes("open facebook")&&(readOut("opening facebook sir"),window.open("https://www.facebook.com/"),windowsB.push(a)),o.includes("open github")){readOut("opening github sir");let e=window.open("https://github.com/");windowsB.push(e)}if(o.includes("open firebase")||o.includes("open fire base")){readOut("opening firebase sir");let e=window.open("https://console.firebase.google.com/");windowsB.push(e)}if(o.includes("search for")){readOut("here's the result");let e=o.split("");e.splice(0,11),e=e.join("").split("").join("+"),console.log(e);let t=window.open(`https://www.google.com/search?q=${e}`);windowsB.push(t)}if(o.includes("play")){readOut("here's the result");let e=o.split("");e.splice(0,5),e=e.join("").split("").join("+"),console.log(e);let t=window.open(`https://www.youtube.com/results?search_query=${e}`);windowsB.push(t)}if((o.includes("shut down")||o.includes("shutdown"))&&(readOut("okay sir taking a nap"),stopR=!0,recognition.stop(),stopBtn.style.visibility="hidden"),o.includes("open my github profile")){readOut("opening github profile sir");let e=window.open(`https://github.com/${JSON.parse(n)}.github`);windowsB.push(e)}},recognition.onend=function(){console.log("vr deactivated")},startBtn.addEventListener("click",()=>{recognition.start(),stopBtn.style.visibility="visible"}),stopBtn.addEventListener("click",()=>{recognition.stop()}),recognition.onend=function(){!1===stopR?setTimeout(()=>{recognition.start()},500):!1===stopR&&recognition.stop()},speakBtn.addEventListener("click",()=>{readOut("i hope you can hear me")});const lang=navigator.language;let datex=new Date,dayNum=date.getDate(),monthx=date.getMonth(),dayName=date.toLocaleString(lang,{weekday:"long"}),monthName=date.toLocaleString(lang,{month:"long"}),year=date.getFullYear();document.querySelector(".month").innerHTML=monthName,document.querySelector(".day").innerHTML=dayName,document.querySelector(".date").innerHTML=dayNum,document.querySelector(".year").innerHTML=year;let yyyy,mm,dd,sayDate=`today is ${dayNum}th of ${monthName} and today is ${dayName}`;async function getNews(){var e=new Request("https://newsapi.org/v2/top-headlines?country=in&apiKey=c4d59f3d889d4e51b5614ac7412ef09b");await fetch(e).then(e=>e.json()).then(e=>{console.log(e);let t=e.articles;t.length=10;let o=[];t.forEach((e,t)=>{o.push(t+1),o.push("......."),o.push(e.title),o.push(".......")}),readOut(o)})}async function getCatNews(e){var t=new Request("https://newsapi.org/v2/everything?"+`q=${e}&`+`from=${yyyy}-${mm}-${dd}&`+"sortBy=popularity&apiKey=c4d59f3d889d4e51b5614ac7412ef09b");await fetch(t).then(e=>e.json()).then(e=>{console.log(e);let t=e.articles;t.length=10;let o=[];t.forEach((e,t)=>{o.push(t+1),o.push("......."),o.push(e.title),o.push(".......")}),readOut(o)})}document.querySelector(".calender").addEventListener("click",()=>{window.open("https://calendar.google.com")}),dd=date.getDate(),mm=date.getMonth(),yyyy=date.getFullYear();